var songs0 = new Array('清新的小女孩','Time Back','哪吒','鱼香','可乐','We Will Rock You','粉红色的回忆');
var singer0 = new Array('王雨笙','王梦瑶','大壮', '张小九', '赵紫骅', 'Queen','韩宝仪');
var sourceId0 = new Array('qq/001HpRje2QX5M4','qq/002hKfDA2NSWlo','qq/004a4n6J1rOH5J.mp3', '163/487885426', '163/29759733', 'qq/003z8Lmg3czY3q.mp3', 'qq/0003mXKU3KZ34F' );
var images0 = new Array('https://y.gtimg.cn/music/photo_new/T002R300x300M0000032GQj01uA8i8.jpg?max_age=2592000','https://y.gtimg.cn/music/photo_new/T002R300x300M000001XKlBK1BTZnY.jpg?max_age=2592000','','','','');
var songs1 = ["这一生关于你的风景", "Victory", "麻雀", "句号", "你知道我在等你吗", "七子之歌-澳门", "我是如此相信", "清新的小女孩", "盛夏的果实", "隔壁泰山", "Sometimes I Cry", "理想三旬", "年少有为", "明天会更好", "母亲", "你笑起来真好看", "幸福万年长", "生生", "停止跳动", "一笑倾城", "万有引力", "埋葬冬天", "那个男孩", "某人", "痒", "这么多年了", "让全世界知道我爱你", "但愿余生都是你", "好可惜", "耳听爱情", "悬溺", "哈尼宝贝", "你的答案", "下山", "忘情牛肉面", "忘情水", "来自天堂的魔鬼", "野狼disco", "父亲", "父亲", "你是风儿我是沙", "菊花台", "愿得一心人", "一生与你擦肩而过", "给不了的幸福", "桥边姑娘", "纸短情长", "一壶老酒", "心太软", "蜗牛"];
var singer1 = ["枯木逢春", "Two Steps From Hell", "李荣浩", "G.E.M.邓紫棋", "迪克牛仔", "北京市少年宫合唱团", "周杰伦", "ไทย", "莫文蔚", "阿里郎", "New Ridaz", "陈鸿宇", "李荣浩", "群星", "阎维文", "李昕融 / 樊桐舟 / 李凯稠", "汤灿", "林俊杰", "汪苏泷", "汪苏泷", "汪苏泷", "汪苏泷", "汪苏泷", "汪苏泷", "黄龄", "李俊杰 / 夏婉安", "六哲 / 贺敬轩", "贺敬轩", "庄心妍", "庄心妍", "葛东琪", "南征北战NZBZ", "好乐无荒 / 阿冗", "要不要买菜", "李冰", "刘德华", "G.E.M. 邓紫棋", "宝石Gem", "崔京浩", "刘和刚", "周杰 / 林心如", "周杰伦", "周深", "阿悠悠", "谢娜", "海伦", "李瑨瑶", "陆树铭", "任贤齐", "周杰伦"];
var sourceId1 = ["163/1356350562", "163/31654455", "163/1407551413", "163/1405283464", "163/77099", "163/28643169", "qq/001PLl3C4gPSCI", "qq/000xdt5M3OQlR7", "163/277382", "163/862101001", "163//17451998", "163/31445772", "qq/004DXFlC0nsTCZ", "163/5285415", "163/177578", "163/1368934278", "163/294482", "163/29850685", "163/165348", "163/426852063", "163/165339", "163/165380", "163/482386133", "163/165370", "qq/003bh3Wx3gGPn5", "qq/0046Ygdk3OAi1c", "qq/002btHvx0t00l1", "qq/003HCCx43yOBx3", "qq/001tYweH1iGcZf", "qq/003OZHzo2rrxLE", "qq/000a2bMl33mXkU", "qq/004UxcgC1g4bLP", "qq/003UAhhG2Bm3Nq", "qq/001GAAVj1GjW8F", "qq/004fGLTR0WtadR", "qq/001VNZ7u2BWZhs", "qq/004dFFPd4JNv8q", "qq/001an8ju3IkKLW", "qq/000ApIyy0ff0qs", "qq/001AawD621YSQm", "qq/004Mn2d70GRyfZ", "qq/004RUiXu49ufy1", "qq/00251Bz50yMRcf", "qq/000xRG4E4diqXD", "qq/003bpqky49ibuJ", "qq/001zLvbN1NYMuv", "qq/1332623211", "qq/001V7PPz24Yulv", "qq/0013N7WL4YxcRU", "qq/003KVwG03rkmDG"];
var images1=[];

var songs2 = ["说好不哭", "我们只差一点点", "有幸", "暖暖", "分手快乐", "大王叫我来巡山", "一直陪着他", "情话微甜", "好想再爱你", "好想你", "Dancin", "Hey Jude", "因为爱情", "蓝色土耳其", "寂寞沙洲冷", "北京东路的日子", "遗憾", "奔跑", "万爱千恩", "为爱痴狂", "千与千寻(钢琴版)", "隐形的翅膀(钢琴版)", "一次就好 (钢琴版)", "至少还有你", "说散就散 (钢琴版)", "美丽的神话", "夜空的寂静 (钢琴曲)", "天空之城 (钢琴版)", "听海 (钢琴版伴奏)", "富士山下(钢琴版)", "背对背拥抱 (钢琴版)", "后来的我们 (钢琴版)", "凉凉(钢琴版)", "莫失莫忘(钢琴版)", "小幸运(钢琴版)", "父亲 (钢琴版伴奏)", "夜的钢琴曲5", "十年(钢琴版)", "童话(钢琴版)", "高山流水", "时间煮雨(钢琴版)", "夜空中最亮的星(钢琴版)", "遇见(钢琴版)", "大鱼(钢琴版)", "梦中的婚礼(钢琴曲)", "不想让你哭", "世间美好与你环环相扣", "分手那天", "牡丹花和放羊娃", "Move Your Body"];
var singer2 = ["周杰伦with 五月天阿信", "牛奶咖啡 / 梁晓雪", "老光", "梁静茹", "梁静茹", "贾乃亮 / 贾云馨", "李哈哈", "维艾VI", "潘广益", "朱主爱", "Mary MacGregor", "The Beatles", "陈奕迅 / 王菲", "周传雄", "周传雄", "华语群星", "王佳杨", "黄征 / 羽泉", "王琪", "刘若英", "5音不全", "王崴", "文武贝", "甘仕良", "昼夜", "王崴", "赵海洋", "郭燕", "张惠妹", "甘仕良 / Blue Sky", "昼夜", "昼夜", "文武贝", "文武贝", "文武贝", "文武贝", "文武贝", "昼夜", "纯音乐", "纯音乐", "纯音乐", "纯音乐", "纯音乐", "昼夜", "Richard Clayderman", "王强", "柏松", "徐靖博", "郭涛 / 云飞", "Sia / Alan Walker"];
var sourceId2 = ["qq/001qvvgF38HVc4", "qq/001Oiqp13OhZWl", "qq/002y4T9W23anFg", "qq/003Sn9Rg4N3oNq", "163/254309", "qq/001IqrdV4AqcyV", "qq/003vo8dD0Hz5W4", "qq/002pohf72FCTGJ", "qq/001IIARo3EMkLS", "qq/002sPvGb1kLrAr", "qq/002aXRGR2J4TKC", "qq/002jhYSc3HvhQi", "qq/004HdPmN0HZipA", "qq/001kAb3L4GzJWY", "qq/003XPmiG3eMglL", "qq/000SBMxP3IK4ey", "qq/0012neBK2hwKGu", "qq/001B6Z2d1y7hmh", "qq/0002fr701wX6uz", "163/254499", "qq/003YPTmy0uedw4", "qq/002X5uuR1pBl2y", "qq/000GXpyo1CKKbf", "qq/0005fPEv1d3D1b", "qq/003y7NnD0A2kLk", "qq/000E4JDC2co8yb", "qq/002fE3oa0HixZd", "qq/003VQKPd35wAln", "qq/001bL8sY0kW9dj", "qq/004HNA4e1Wwxgy", "qq/001YWRL13ylojN", "qq/004bBXjQ08rrWR", "qq/002chsjl0H0i0t", "qq/002RF6ly1Wf71f", "qq/000R0no40AQ6v3", "qq/004Rlx4s12qoJa", "qq/001b3yxJ17AH7C", "qq/004KuKyD08106m", "qq/002yRwjR22zu9C", "qq/0038UNs52uky8g", "qq/001BuTZL4O2ilo", "qq/002JMJa70OtRPz", "qq/002URiHF2KamxI", "qq/003odYN80HOgTP", "qq/000pDHmH1GLRac", "163/163125", "163/1363948882", "163/172886", "163/404184621", "163/436487129"];
var images2=[];
var songs = songs2;
var singer = singer2;
var sourceId = sourceId2;
var images = images2;
setTitle('LongBro工具');

Page({
  onLoad: function () {
    getSongs();
    setTitle('553Music');
  },
  onReady: function (e) {
    // 使用 wx.createAudioContext 获取 audio 上下文 context
    this.audioCtx = wx.createAudioContext('myAudio')
  },
  data: {
    songs:songs,
    singer: singer,
    sourceId: sourceId,
    images: images,
    poster: 'http://y.gtimg.cn/music/photo_new/T002R300x300M000003rsKF44GyaSk.jpg?max_age=2592000',
    name: '哪吒',
    author: '大壮',
    src: 'http://link.hhtjim.com/qq/004a4n6J1rOH5J.mp3',
  },
  bindChange: function (e) {
    const val = e.detail.value
    this.setData({
      name: this.data.songs[val[0]],
      author:this.data.singer[val[0]],
      poster:this.data.images[val[0]],
      src: "http://link.hhtjim.com/" + this.data.sourceId[val[0]] +".mp3"
      //src: "http://link.hhtjim.com/" + (this.data.sourceId[val].length < 12) ? "163/" + this.data.sourceId[val] : "qq/" + this.data.sourceId[val] +".mp3"
    })
    this.audioCtx.play()
  },
  first:function(){
    wx.showToast({
      title: '第1页',
      icon: '',
      image: '',
      duration: 1000,
      mask: true,
      success: function (res) { },
      fail: function (res) { },
      complete: function (res) { },
    })
    songs = songs1;
    singer = singer1;
    sourceId = sourceId1;
    images = images1;
    onLoad;
  },
  second: function () {
    wx.showToast({
      title: '第2页',
      icon: '',
      image: '',
      duration: 1000,
      mask: true,
      success: function(res) {},
      fail: function(res) {},
      complete: function(res) {},
    })
    songs = songs2;
    singer = singer2;
    sourceId = sourceId2;
    images = images2;
    onLoad;
  },
  audioPlay: function () {
    console.log('----'),
      this.audioCtx.play()
  },
  audioPause: function () {
    this.audioCtx.pause()
  },
  audio14: function () {
    this.audioCtx.seek(14)
  },
  audioStart: function () {
    this.audioCtx.seek(0)
  }
});
function playSon(id) {
  console.log('可乐')
}
function setTitle(title) {
  wx.setNavigationBarTitle({
    title: title,
  })
}
function getSongs() {
  wx.request({
    url: 'http://www.duola.vip/queryAllSongs.do?page=2',
    header: {
      'content-type': 'application/json' // 默认值
    },
    success(res) {
      var data = res.data;
      for (var i = 0; i < data.length; i++) {
        songs.push(data[i].songName);
        singer.push(data[i].singer);
        sourceId.push(data[i].sourceId);
        images.push(data[i].imgPath);
      }
      console.log(songs);
      console.log(singer);
      console.log(sourceId);
      console.log(images);
    }
  })
}